<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
 <title>Ø§Ø¯Ø¹ÙŠÙ‡ğŸ“¿</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg:#0b0f14;
      --bg-soft:#0f141b;
      --fg:#e7edf6;
      --muted:#9db0c8;
      --primary:#80d0ff;
      --accent:#b38bff;
      --card:#0d1218cc; /* glass */
      --glass: blur(10px) saturate(120%);
      --ring: 0 0 0 2px color-mix(in oklab, var(--primary) 35%, transparent);
      --shadow: 0 10px 25px rgba(0,0,0,.45);
    }

    * { box-sizing:border-box }
    html, body { height: 100% }
    body {
      margin:0; font-family:"Cairo", system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans Arabic", sans-serif;
      color:var(--fg);
      background: radial-gradient(1200px 800px at 80% -10%, #142130 0%, transparent 60%),
                  radial-gradient(800px 600px at -10% 20%, #1a2433 0%, transparent 60%),
                  linear-gradient(160deg, #090c12, #0b1119 60%, #0a0f15);
      overflow-x:hidden;
    }

    /* Subtle starfield */
    .stars { position:fixed; inset:0; pointer-events:none; z-index:0; }
    .stars::before, .stars::after { content:""; position:absolute; inset:-50%; background-repeat:repeat; opacity:.35; animation: drift 120s linear infinite; filter: drop-shadow(0 0 2px #b9ddff);
      background-image: radial-gradient(1px 1px at 20px 30px, #bfe2ff 50%, transparent 51%),
                        radial-gradient(1px 1px at 120px 80px, #d7c8ff 50%, transparent 51%),
                        radial-gradient(1px 1px at 260px 140px, #b5d9ff 50%, transparent 51%),
                        radial-gradient(1px 1px at 400px 220px, #e0f0ff 50%, transparent 51%);
      background-size: 500px 500px; }
    .stars::after { opacity:.2; animation-duration: 200s; filter: drop-shadow(0 0 3px #d0c8ff); }
    @keyframes drift { from { transform:translateX(0) translateY(0) } to { transform:translateX(500px) translateY(300px) } }

    header {
      position:sticky; top:0; z-index:10;
      backdrop-filter: var(--glass);
      background: linear-gradient(180deg, #0c131acc, #0c131a99 60%, transparent);
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .container { width:min(1100px, 92%); margin-inline:auto }
    .nav {
      display:flex; align-items:center; justify-content:space-between; gap:12px; padding:18px 0; 
    }
    .brand { display:flex; align-items:center; gap:12px }
    .logo {
      width:40px; height:40px; border-radius:12px; background:
        radial-gradient(200px 120px at 20% 10%, #4f8dff33, transparent 60%),
        linear-gradient(135deg, #79d6ff 10%, #8f79ff 90%);
      box-shadow: inset 0 0 0 2px rgba(255,255,255,.12), var(--shadow);
    }
    .title { font-weight:700; letter-spacing:.3px; font-size:1.2rem }
    .subtitle { color:var(--muted); font-size:.95rem }

    .controls { display:flex; gap:12px; flex-wrap:wrap; align-items:center }
    .search {
      display:flex; align-items:center; gap:10px; 
      background:var(--card); border:1px solid rgba(255,255,255,.08);
      border-radius:14px; padding:10px 14px; box-shadow:var(--shadow);
    }
    .search input { 
      all:unset; width:240px; max-width:62vw; color:var(--fg);
    }
    .chipbar { display:flex; gap:8px; flex-wrap:wrap }
    .chip {
      user-select:none; cursor:pointer; transition:.2s ease; 
      background: linear-gradient(180deg, #111926cc, #0b1118cc);
      border:1px solid rgba(255,255,255,.08); color:var(--muted);
      padding:8px 12px; border-radius:999px; font-size:.85rem;
    }
    .chip.active { color:#0a0d12; background:linear-gradient(180deg, #86d7ff, #b197ff); border-color:transparent }

    main { position:relative; z-index:1; padding: 18px 0 80px }
    .grid { 
      display:grid; gap:16px; 
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
      margin-top:14px; 
    }
    .card {
      position:relative; overflow:hidden; border-radius:18px; padding:18px; 
      background: var(--card); backdrop-filter: var(--glass);
      border:1px solid rgba(255,255,255,.08); box-shadow: var(--shadow);
      transform: translateY(6px); opacity:0; animation: pop .45s ease forwards;
    }
    @keyframes pop { to { transform: translateY(0); opacity:1 } }

    .tag { font-size:.75rem; color:var(--primary); opacity:.9 }
    .card h3 { margin:8px 0 10px; font-size:1.05rem }
    .dua { line-height:1.9; color:#eef4ff; font-size:1rem }
    .ref { margin-top:10px; font-size:.85rem; color:var(--muted) }

    .actions { display:flex; gap:8px; margin-top:12px; flex-wrap:wrap }
    button.btn {
      all:unset; cursor:pointer; padding:9px 12px; border-radius:12px; 
      background: #111822; border:1px solid rgba(255,255,255,.08); 
      font-size:.9rem; color:#dfe9f5; display:inline-flex; gap:8px; align-items:center;
      transition: transform .06s ease;
    }
    button.btn:hover { box-shadow: var(--ring) }
    button.btn:active { transform: translateY(1px) }
    .btn.primary { background: linear-gradient(180deg, #86d7ff, #b197ff); color:#0b0f14; border:0 }
    .btn.ghost { background:transparent }

    .fav { position:absolute; top:12px; left:12px; padding:8px; border-radius:12px; background:#0d141dcc; border:1px solid rgba(255,255,255,.08); cursor:pointer }
    .fav.active { background: linear-gradient(180deg, #ffd7a8, #ffc164); color:#2a1a00 }

    .toolbar { display:flex; align-items:center; justify-content:space-between; gap:16px; padding:18px 0 8px }

    .toggle { display:flex; gap:8px; align-items:center }
    .toggle input { accent-color: var(--accent) }
    .count { color:var(--muted); font-size:.9rem }

    .toast { position:fixed; bottom:20px; right:20px; background:#0e1722; border:1px solid rgba(255,255,255,.08); padding:12px 14px; border-radius:12px; box-shadow:var(--shadow); opacity:0; transform: translateY(8px); transition:.25s ease; z-index:50 }
    .toast.show { opacity:1; transform: translateY(0) }

    .fab { position:fixed; bottom:26px; left:26px; z-index:30 }
    .fab button { all:unset; cursor:pointer; width:48px; height:48px; border-radius:16px; display:grid; place-items:center; background:linear-gradient(180deg, #86d7ff, #b197ff); color:#0b0f14; box-shadow:var(--shadow) }

    footer { color:var(--muted); text-align:center; padding:40px 0 60px }
    .hr { height:1px; background:linear-gradient(90deg, transparent, rgba(255,255,255,.08), transparent); margin:22px 0 }

    /* Responsive tweaks */
    @media (max-width: 520px) {
      .title { font-size:1.05rem }
      .subtitle { display:none }
      .search input { width: 52vw }
    }
  </style>
</head>
<body>
  <div class="stars" aria-hidden="true"></div>
  <header>
    <div class="container">
      <div class="nav">
        <div class="brand">
          <div class="logo" aria-hidden="true"></div>
          <div>
            <div class="title">Ø£Ø¯Ø¹ÙŠØ©</div>
            <div class="subtitle">Ø§Ø¯Ø¹ÙŠØ© Ù…Ø®ØªØ§Ø±Ù‡ Ù…Ø¹ Ø¨Ø­Ø« ÙˆÙ†Ø³Ø® Ø³Ø±ÙŠØ¹</div>
          </div>
        </div>
        <div class="controls">
          <label class="search" aria-label="Ø¨Ø­Ø«">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.3-4.3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/><circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="1.6"/></svg>
            <input id="q" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø¯Ø¹Ø§Ø¡..." />
          </label>
        </div>
      </div>

      <div class="toolbar">
        <div class="chipbar" id="chipbar"></div>
        <div class="toggle">
          <input id="onlyFav" type="checkbox" />
          <label for="onlyFav">Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù…ÙØ¶Ù„Ø© ÙÙ‚Ø·</label>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="count" id="count"></div>
    <div class="grid" id="grid" aria-live="polite"></div>
    <div class="hr"></div>
    <footer>
      ØµÙÙ†Ø¹ Ø¨Ø­Ø¨ â€” ÙŠÙ…ÙƒÙ†Ùƒ Ø­ÙØ¸ Ø§Ù„Ø£Ø¯Ø¹ÙŠØ© Ø§Ù„Ù…ÙØ¶Ù„Ø© Ù„Ø¯ÙŠÙƒ ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨Ø­Ø« Ù„Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹.
    </footer>
  </main>

  <div class="fab"><button id="toTop" title="Ø£Ø¹Ù„Ù‰">â†‘</button></div>
  <div class="toast" id="toast">ØªÙ… Ø§Ù„Ù†Ø³Ø® âœ…</div>

  <script>
    // ======= Data =======
    const DUAS = [
      { id:1, title:"Ø¯Ø¹Ø§Ø¡ Ø§Ù„ØµØ¨Ø§Ø­", tag:"Ø§Ù„ØµØ¨Ø§Ø­", text:`Ø£ÙØµÙ’Ø¨ÙØ­Ù’Ù†ÙØ§ ÙˆÙØ£ÙØµÙ’Ø¨ÙØ­Ù Ø§Ù„Ù…ÙÙ„Ù’ÙƒÙ Ù„ÙÙ„Ù‘ÙÙ‡ÙØŒ ÙˆØ§Ù„Ø­Ù…Ø¯Ù Ù„ÙÙ„Ù‘ÙÙ‡ÙØŒ Ù„Ø§ Ø¥Ù„Ù‡Ù Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙˆØ­Ø¯ÙÙ‡Ù Ù„Ø§ Ø´Ø±ÙŠÙƒÙ Ù„Ù‡ØŒ Ù„Ù‡ Ø§Ù„Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙ„Ù‡ Ø§Ù„Ø­Ù…Ø¯Ù ÙˆÙ‡Ùˆ Ø¹Ù„Ù‰ ÙƒÙ„Ù‘Ù Ø´ÙŠØ¡Ù Ù‚Ø¯ÙŠØ±.`, ref:"ØµØ­ÙŠØ­ Ù…Ø³Ù„Ù…" },
      { id:2, title:"Ø¯Ø¹Ø§Ø¡ Ø§Ù„Ù…Ø³Ø§Ø¡", tag:"Ø§Ù„Ù…Ø³Ø§Ø¡", text:`Ø£ÙÙ…Ù’Ø³ÙÙŠÙ’Ù†Ø§ ÙˆÙØ£ÙÙ…Ù’Ø³ÙÙ‰ Ø§Ù„Ù…ÙÙ„Ù’ÙƒÙ Ù„ÙÙ„Ù‘ÙÙ‡ÙØŒ ÙˆØ§Ù„Ø­Ù…Ø¯Ù Ù„ÙÙ„Ù‘ÙÙ‡ÙØŒ Ù„Ø§ Ø¥Ù„Ù‡Ù Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙˆØ­Ø¯ÙÙ‡Ù Ù„Ø§ Ø´Ø±ÙŠÙƒÙ Ù„Ù‡ØŒ Ù„Ù‡ Ø§Ù„Ù…ÙÙ„Ù’ÙƒÙ ÙˆÙ„Ù‡ Ø§Ù„Ø­Ù…Ø¯Ù ÙˆÙ‡Ùˆ Ø¹Ù„Ù‰ ÙƒÙ„Ù‘Ù Ø´ÙŠØ¡Ù Ù‚Ø¯ÙŠØ±.`, ref:"ØµØ­ÙŠØ­ Ù…Ø³Ù„Ù…" },
      { id:3, title:"Ø³ÙŠØ¯ Ø§Ù„Ø§Ø³ØªØºÙØ§Ø±", tag:"Ø£Ø°ÙƒØ§Ø± Ø¹Ø§Ù…Ø©", text:`Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø£ÙÙ†Ù’ØªÙ Ø±ÙØ¨Ù‘ÙÙŠ Ù„Ø§ Ø¥ÙÙ„ÙÙ‡Ù Ø¥ÙÙ„Ù‘ÙØ§ Ø£ÙÙ†Ù’ØªÙØŒ Ø®ÙÙ„ÙÙ‚Ù’ØªÙÙ†ÙÙŠ ÙˆÙØ£ÙÙ†ÙØ§ Ø¹ÙØ¨Ù’Ø¯ÙÙƒÙØŒ ÙˆÙØ£ÙÙ†ÙØ§ Ø¹ÙÙ„ÙÙ‰ Ø¹ÙÙ‡Ù’Ø¯ÙÙƒÙ ÙˆÙÙˆÙØ¹Ù’Ø¯ÙÙƒÙ Ù…ÙØ§ Ø§Ø³Ù’ØªÙØ·ÙØ¹Ù’ØªÙØŒ Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙ Ù…ÙÙ†Ù’ Ø´ÙØ±Ù‘Ù Ù…ÙØ§ ØµÙÙ†ÙØ¹Ù’ØªÙØŒ Ø£ÙØ¨ÙÙˆØ¡Ù Ù„ÙÙƒÙ Ø¨ÙÙ†ÙØ¹Ù’Ù…ÙØªÙÙƒÙ Ø¹ÙÙ„ÙÙŠÙ‘ÙØŒ ÙˆÙØ£ÙØ¨ÙÙˆØ¡Ù Ø¨ÙØ°ÙÙ†Ù’Ø¨ÙÙŠ ÙÙØ§ØºÙ’ÙÙØ±Ù’ Ù„ÙÙŠØŒ ÙÙØ¥ÙÙ†Ù‘ÙÙ‡Ù Ù„ÙØ§ ÙŠÙØºÙ’ÙÙØ±Ù Ø§Ù„Ø°Ù‘ÙÙ†ÙÙˆØ¨Ù Ø¥ÙÙ„Ù‘ÙØ§ Ø£ÙÙ†Ù’ØªÙ.`, ref:"Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ" },
      { id:4, title:"Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ…", tag:"Ø§Ù„Ù†ÙˆÙ…", text:`Ø¨ÙØ§Ø³Ù’Ù…ÙÙƒÙ Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø£ÙÙ…ÙÙˆØªÙ ÙˆÙØ£ÙØ­Ù’ÙŠÙØ§.`, ref:"Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ" },
      { id:5, title:"Ø§Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸", tag:"Ø§Ù„Ù†ÙˆÙ…", text:`Ø§Ù„Ø­Ù…Ø¯Ù Ù„Ù„Ù‡Ù Ø§Ù„Ø°ÙŠ Ø£Ø­ÙŠØ§Ù†Ø§ Ø¨Ø¹Ø¯Ù…Ø§ Ø£Ù…Ø§ØªÙ†Ø§ ÙˆØ¥Ù„ÙŠÙ‡ Ø§Ù„Ù†Ù‘ÙØ´ÙˆØ±.`, ref:"Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ" },
      { id:6, title:"Ø¯Ø¹Ø§Ø¡ Ø§Ù„ÙƒØ±Ø¨", tag:"Ø§Ù„Ø´Ø¯Ø§Ø¦Ø¯", text:`Ù„Ø§ Ø¥Ù„ÙÙ‡Ù Ø¥Ù„Ù‘ÙØ§ Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø§Ù„Ø¹ÙØ¸ÙÙŠÙ…Ù Ø§Ù„Ø­ÙÙ„ÙÙŠÙ…ÙØŒ Ù„Ø§ Ø¥Ù„ÙÙ‡Ù Ø¥Ù„Ù‘ÙØ§ Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø±ÙØ¨Ù‘Ù Ø§Ù„Ø¹ÙØ±Ù’Ø´Ù Ø§Ù„Ø¹ÙØ¸ÙÙŠÙ…ÙØŒ Ù„Ø§ Ø¥Ù„ÙÙ‡Ù Ø¥Ù„Ù‘ÙØ§ Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø±ÙØ¨Ù‘Ù Ø§Ù„Ø³Ù‘ÙÙ…ÙØ§ÙˆÙØ§ØªÙ ÙˆÙØ±ÙØ¨Ù‘Ù Ø§Ù„Ø£Ø±Ù’Ø¶Ù ÙˆÙØ±ÙØ¨Ù‘Ù Ø§Ù„Ø¹ÙØ±Ù’Ø´Ù Ø§Ù„ÙƒÙØ±ÙÙŠÙ…Ù.`, ref:"Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ ÙˆÙ…Ø³Ù„Ù…" },
      { id:7, title:"Ø¹Ù†Ø¯ Ø§Ù„Ù‡Ù… ÙˆØ§Ù„Ø­Ø²Ù†", tag:"Ø§Ù„Ø´Ø¯Ø§Ø¦Ø¯", text:`Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø¥Ù†Ù‘ÙÙŠ Ø¹Ø¨Ø¯ÙÙƒÙ Ø§Ø¨Ù†Ù Ø¹Ø¨Ø¯ÙÙƒÙ Ø§Ø¨Ù†Ù Ø£ÙÙ…ÙØªÙÙƒÙØŒ Ù†ÙØ§ØµÙÙŠÙØªÙŠ Ø¨ÙÙŠÙØ¯ÙÙƒÙØŒ Ù…ÙØ§Ø¶Ù ÙÙÙŠÙ‘Ù Ø­ÙÙƒÙ’Ù…ÙÙƒÙØŒ Ø¹ÙØ¯Ù’Ù„ÙŒ ÙÙÙŠÙ‘Ù Ù‚ÙØ¶ÙØ§Ø¤ÙÙƒÙØŒ Ø£Ø³Ø£Ù„ÙÙƒÙ Ø¨ÙƒÙ„Ù‘Ù Ø§Ø³Ù…Ù Ù‡Ùˆ Ù„ÙƒÙ Ø³Ù…Ù‘ÙÙŠØªÙ Ø¨Ù‡ Ù†ÙØ³ÙÙƒÙ ... Ø£Ù† ØªØ¬Ø¹Ù„Ù Ø§Ù„Ù‚Ø±Ø¢Ù†Ù Ø±Ø¨ÙŠØ¹Ù Ù‚Ù„Ø¨ÙŠ ÙˆÙ†ÙˆØ±Ù ØµØ¯Ø±ÙŠ ÙˆØ¬Ù„Ø§Ø¡Ù Ø­Ø²Ù†ÙŠ ÙˆØ°ÙÙ‡Ø§Ø¨Ù Ù‡Ù…Ù‘ÙÙŠ.`, ref:"Ø£Ø­Ù…Ø¯" },
      { id:8, title:"Ø¨ÙŠÙ† Ø§Ù„Ø³Ø¬Ø¯ØªÙŠÙ†", tag:"Ø§Ù„ØµÙ„Ø§Ø©", text:`Ø±ÙØ¨Ù‘Ù Ø§ØºÙ’ÙÙØ±Ù’ Ù„ÙÙŠ ÙˆØ§Ø±Ù’Ø­ÙÙ…Ù’Ù†ÙÙŠØŒ ÙˆØ§Ø¬Ù’Ø¨ÙØ±Ù’Ù†ÙÙŠØŒ ÙˆØ§Ø±Ù’ÙÙØ¹Ù’Ù†ÙÙŠØŒ ÙˆØ§Ø±Ù’Ø²ÙÙ‚Ù’Ù†ÙÙŠØŒ ÙˆØ§Ù‡Ù’Ø¯ÙÙ†ÙÙŠØŒ ÙˆØ¹Ø§ÙÙÙ†ÙÙŠØŒ ÙˆØ§Ø¹Ù’ÙÙ Ø¹ÙÙ†Ù‘ÙÙŠ.`, ref:"Ø£Ø¨Ùˆ Ø¯Ø§ÙˆØ¯" },
      { id:9, title:"Ø§Ù„Ø±ÙƒÙˆØ¹", tag:"Ø§Ù„ØµÙ„Ø§Ø©", text:`Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø±ÙØ¨Ù‘ÙÙŠÙ Ø§Ù„Ø¹ÙØ¸ÙÙŠÙ…Ù.`, ref:"Ù…Ø³Ù„Ù…" },
      { id:10, title:"Ø§Ù„Ø³Ø¬ÙˆØ¯", tag:"Ø§Ù„ØµÙ„Ø§Ø©", text:`Ø³ÙØ¨Ù’Ø­ÙØ§Ù†Ù Ø±ÙØ¨Ù‘ÙÙŠÙ Ø§Ù„Ø£ÙØ¹Ù’Ù„ÙÙ‰.`, ref:"Ù…Ø³Ù„Ù…" },
      { id:11, title:"Ø§Ù„ÙˆØªØ±", tag:"Ø§Ù„ØµÙ„Ø§Ø©", text:`Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø§Ù‡Ù’Ø¯ÙÙ†ÙÙŠ ÙÙÙŠÙ…ÙÙ†Ù’ Ù‡ÙØ¯ÙÙŠÙ’ØªÙØŒ ÙˆÙØ¹ÙØ§ÙÙÙ†ÙÙŠ ÙÙÙŠÙ…ÙÙ†Ù’ Ø¹ÙØ§ÙÙÙŠÙ’ØªÙ ... ØªÙØ¨ÙØ§Ø±ÙÙƒÙ’ØªÙ Ø±ÙØ¨Ù‘ÙÙ†ÙØ§ ÙˆÙØªÙØ¹ÙØ§Ù„ÙÙŠÙ’ØªÙ.`, ref:"Ø§Ù„ØªØ±Ù…Ø°ÙŠ" },
      { id:12, title:"Ø¯Ø¹Ø§Ø¡ Ø§Ù„Ø§Ø³ØªØ®Ø§Ø±Ø©", tag:"Ø£Ø°ÙƒØ§Ø± Ø¹Ø§Ù…Ø©", text:`Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø¥Ù†Ù‘ÙÙŠ Ø£ÙØ³Ù’ØªÙØ®ÙÙŠØ±ÙÙƒÙ Ø¨ÙØ¹ÙÙ„Ù’Ù…ÙÙƒÙØŒ ÙˆÙØ£ÙØ³Ù’ØªÙÙ‚Ù’Ø¯ÙØ±ÙÙƒÙ Ø¨ÙÙ‚ÙØ¯Ù’Ø±ÙØªÙÙƒÙ ... ÙˆÙØ§Ù‚Ù’Ø¯ÙØ±Ù’ Ù„ÙÙŠ Ø§Ù„Ø®ÙŠØ±Ù Ø­ÙŠØ«Ù ÙƒØ§Ù†ÙØŒ Ø«ÙÙ…Ù‘Ù Ø£ÙØ±Ù’Ø¶ÙÙ†ÙÙŠ.`, ref:"Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ" },
      { id:13, title:"Ø¹Ù†Ø¯ Ø§Ù„Ø¥ÙØ·Ø§Ø±", tag:"Ø§Ù„ØµÙŠØ§Ù…", text:`Ø°ÙÙ‡ÙØ¨Ù Ø§Ù„Ø¸Ù‘ÙÙ…ÙØ£Ù ÙˆØ§Ø¨ØªÙÙ„Ù‘ÙØªÙ Ø§Ù„Ø¹ÙØ±ÙÙˆÙ‚ÙØŒ ÙˆØ«Ø¨ÙØªÙ Ø§Ù„Ø£Ø¬Ø±Ù Ø¥Ù† Ø´Ø§Ø¡Ù Ø§Ù„Ù„Ù‘ÙÙ‡.`, ref:"Ø£Ø¨Ùˆ Ø¯Ø§ÙˆØ¯" },
      { id:14, title:"Ø¹Ù†Ø¯ Ø±Ø¤ÙŠØ© Ø§Ù„Ù‡Ù„Ø§Ù„", tag:"Ø§Ù„Ù…ÙˆØ§Ø³Ù…", text:`Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù Ø£ÙÙ‡ÙÙ„Ù‘ÙÙ‡Ù Ø¹ÙÙ„ÙÙŠÙ’Ù†ÙØ§ Ø¨ÙØ§Ù„ÙŠÙÙ…Ù’Ù†Ù ÙˆÙØ§Ù„Ø¥ÙŠÙ…ÙØ§Ù†Ù ÙˆÙØ§Ù„Ø³Ù‘ÙÙ„Ø§Ù…ÙØ©Ù ÙˆÙØ§Ù„Ø¥Ø³Ù’Ù„Ø§Ù…ÙØŒ Ø±ÙØ¨Ù‘ÙÙŠ ÙˆÙØ±ÙØ¨Ù‘ÙÙƒÙ Ø§Ù„Ù„Ù‘ÙÙ‡Ù.`, ref:"Ø§Ù„ØªØ±Ù…Ø°ÙŠ" },
      { id:15, title:"Ø¹Ù†Ø¯ Ù†Ø²ÙˆÙ„ Ø§Ù„Ù…Ø·Ø±", tag:"Ø§Ù„Ù…ÙˆØ§Ø³Ù…", text:`Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù ØµÙÙŠÙ‘ÙØ¨Ù‹Ø§ Ù†ÙØ§ÙÙØ¹Ù‹Ø§.`, ref:"Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ" },
    ];

    const TAGS = ["Ø§Ù„ÙƒÙ„", "Ø§Ù„ØµØ¨Ø§Ø­", "Ø§Ù„Ù…Ø³Ø§Ø¡", "Ø§Ù„ØµÙ„Ø§Ø©", "Ø§Ù„Ù†ÙˆÙ…", "Ø§Ù„Ø´Ø¯Ø§Ø¦Ø¯", "Ø£Ø°ÙƒØ§Ø± Ø¹Ø§Ù…Ø©", "Ø§Ù„ØµÙŠØ§Ù…", "Ø§Ù„Ù…ÙˆØ§Ø³Ù…"]; 

    // ======= State =======
    const state = {
      q: "",
      tag: "Ø§Ù„ÙƒÙ„",
      favOnly: false,
      favs: new Set(JSON.parse(localStorage.getItem("duas:favs") || "[]")),
    };

    // ======= Elements =======
    const grid = document.getElementById('grid');
    const q = document.getElementById('q');
    const chipbar = document.getElementById('chipbar');
    const count = document.getElementById('count');
    const toast = document.getElementById('toast');

    // Build chips
    TAGS.forEach(t => {
      const c = document.createElement('button');
      c.className = 'chip' + (t===state.tag ? ' active' : '');
      c.textContent = t;
      c.onclick = () => { state.tag = t; render(); setActiveChip(t); smoothToTop(); };
      chipbar.appendChild(c);
    });
    function setActiveChip(t){
      [...chipbar.children].forEach(el=>el.classList.toggle('active', el.textContent===t));
    }

    // Listeners
    q.addEventListener('input', e => { state.q = e.target.value.trim(); render(); });
    document.getElementById('onlyFav').addEventListener('change', e => { state.favOnly = e.target.checked; render(); });
    document.getElementById('toTop').addEventListener('click', () => window.scrollTo({top:0, behavior:'smooth'}));

    // Helpers
    function saveFavs(){ localStorage.setItem('duas:favs', JSON.stringify([...state.favs])); }
    function showToast(msg="ØªÙ… Ø§Ù„Ù†Ø³Ø® âœ…"){ toast.textContent = msg; toast.classList.add('show'); setTimeout(()=>toast.classList.remove('show'), 1500); }
    function smoothToTop(){ window.scrollTo({ top: document.querySelector('header').offsetTop, behavior:'smooth' }); }

    function filterData(){
      return DUAS.filter(d => {
        const matchTag = state.tag === 'Ø§Ù„ÙƒÙ„' || d.tag === state.tag;
        const matchQ = !state.q || (d.title+" "+d.text+" "+d.ref).toLowerCase().includes(state.q.toLowerCase());
        const matchFav = !state.favOnly || state.favs.has(d.id);
        return matchTag && matchQ && matchFav;
      });
    }

    function duaCard(d){
      const li = document.createElement('article');
      li.className = 'card';
      li.innerHTML = `
        <div class="fav ${state.favs.has(d.id)?'active':''}" title="Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…ÙØ¶Ù„Ø©" aria-label="Ù…ÙØ¶Ù„Ø©">â˜…</div>
        <div class="tag">${d.tag}</div>
        <h3>${d.title}</h3>
        <div class="dua">${d.text}</div>
        <div class="ref">${d.ref}</div>
        <div class="actions">
          <button class="btn primary" data-act="copy">Ù†Ø³Ø®</button>
          <button class="btn" data-act="share">Ù…Ø´Ø§Ø±ÙƒØ©</button>
          <button class="btn ghost" data-act="zoom">ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø®Ø·</button>
        </div>`;

      // Fav toggle
      li.querySelector('.fav').onclick = () => {
        state.favs.has(d.id) ? state.favs.delete(d.id) : state.favs.add(d.id);
        saveFavs(); li.querySelector('.fav').classList.toggle('active');
      };

      // Actions
      li.querySelectorAll('button').forEach(b=>{
        b.addEventListener('click', async () => {
          const act = b.dataset.act;
          if(act==='copy'){
            try { await navigator.clipboard.writeText(`${d.title} â€” ${d.text}\n(${d.ref})`); showToast(); }
            catch{ showToast('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ù†Ø³Ø® â€” Ø¬Ø±Ù‘Ø¨ ÙŠØ¯ÙˆÙŠÙ‹Ø§'); }
          }
          else if(act==='share'){
            const shareData = { title:d.title, text:`${d.title} â€” ${d.text}\n(${d.ref})` };
            if(navigator.share){ try{ await navigator.share(shareData); } catch{} }
            else { try{ await navigator.clipboard.writeText(shareData.text); showToast('ØªÙ… Ø§Ù„Ù†Ø³Ø® Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ© âœ…'); } catch{} }
          }
          else if(act==='zoom'){
            const dua = li.querySelector('.dua');
            const fs = window.getComputedStyle(dua).fontSize; const val = parseFloat(fs);
            dua.style.fontSize = (val < 22 ? val+2 : 16) + 'px';
          }
        });
      });

      return li;
    }

    function render(){
      const list = filterData();
      grid.replaceChildren(...list.map(duaCard));
      count.textContent = list.length ? `Ø¹Ø¯Ø¯ Ø§Ù„Ù†ØªØ§Ø¦Ø¬: ${list.length}` : 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ â€” Ø¬Ø±Ù‘Ø¨ ÙƒÙ„Ù…Ø§Øª Ø£Ù‚Ù„ Ø£Ùˆ ØªØµÙ†ÙŠÙÙ‹Ø§ Ø¢Ø®Ø±';
    }

    render();
  </script>
</body>
</html>